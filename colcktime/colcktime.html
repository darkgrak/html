<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>TIME</title>
        <style>
        div{
            transform: rotate();
            color: rgb(236, 215, 19)
        }
        </style>
    </head>
    <body>
        <canvas id="canvas1" width="800" height="600"></canvas>
        <div id="main">

        </div>
        <script> 
            var Canvas = document.querySelector("#canvas1")

            var ctx = Canvas.getContext("2d")

            // 设置一个时钟函数
            function drawClock(){
                // 清出画布
                ctx.clearRect(0,0,800,600)
              
                // 保存最初状态
                ctx.save()

                // 设置钟表的圆形位置，设置为坐标尺中心
                ctx.translate(400,300)
                // 设置坐标轴逆时针旋转90度，x轴为竖直方向
                ctx.rotate(-Math.PI/2)

                ctx.save()

                // 绘制表盘
                ctx.beginPath()
                ctx.arc(0,0,200,0,2*Math.PI)
                ctx.strokeStyle = "red"
                ctx.fillStyle = '#000'
                ctx.fill() //填充
                ctx.lineWidth = 2
                ctx.stroke()
                ctx.rotate(-Math.PI/3)
                ctx.closePath()
                // ctx.restore()

                // 绘制60个小刻度
                for(var i=0 ;i<60;i++){
                    ctx.beginPath()
                    
                    // 设置秒表刻度长度
                    ctx.moveTo(192,0)
                    ctx.lineTo(180,0)
                    
                    ctx.lineWidth=1
                    ctx.strokeStyle = "#fff"
                    ctx.stroke()
                    ctx.closePath()
                    ctx.rotate(Math.PI/30)
                }
                ctx.restore()
				ctx.save()
                for(var i=0 ;i<12;i++){
                    ctx.beginPath()
                    
                    // 设置秒表刻度长度
                    ctx.moveTo(192,0)
                    ctx.lineTo(180,0)
                   
                    ctx.lineWidth=6
                    ctx.strokeStyle = "#fff"
                    ctx.stroke()
                    ctx.closePath()
                    ctx.rotate(Math.PI/6)
                }
               
                // ctx.restore()
				ctx.save()
				
                for(var i=1 ;i<=12;i++){
                    ctx.save()
                    ctx.beginPath()
                    ctx.rotate(Math.PI/6*i)
                    ctx.translate(155,0)
                    ctx.rotate(Math.PI/2-Math.PI/6*i)
                    ctx.font = "24px 微软雅黑"
                    ctx.fillStyle = '#fff'
                    ctx.fillText(i,-8,8)
                    ctx.stroke()
                    ctx.closePath()
                    ctx.restore()
                }
                // 将坐标返回最初位置
                ctx.restore()
                ctx.restore()
               
				ctx.save()
                
				var time = new Date()
                day = time.getDate()
                console.log(day)
				hour = time.getHours() > 12?time.getHours()-12:time.getHours() //三元运算符
				
				min = time.getMinutes()
				sec = time.getSeconds()
				// 设置日期
                ctx.rotate(Math.PI/2)
				ctx.beginPath()
				ctx.lineWidth = 2
                ctx.font = "23px 微软雅黑 "
                ctx.fillStyle = 'red'
                ctx.fillText(""+day+"",85,8)
				ctx.stroke()
                ctx.closePath()
                ctx.restore()
				ctx.save()

                // 制作时针
				ctx.beginPath()
				
				ctx.rotate(2*Math.PI*hour/12 + 2*Math.PI*min/60/12 + 2*Math.PI*sec/3600/12)
				ctx.moveTo(-10,0)
				ctx.lineTo(50,0)
				ctx.lineWidth = 5
				ctx.strokeStyle = '#fff'
				ctx.stroke()
				
                ctx.closePath()
                ctx.restore()
				ctx.save()

                ctx.beginPath()
				
				ctx.rotate(2*Math.PI*hour/12 + 2*Math.PI*min/60/12 + 2*Math.PI*sec/3600/12)
				ctx.moveTo(20,-5)
				ctx.lineTo(110,-5)
                ctx.lineTo(110,5)
                ctx.lineTo(20,5)
                ctx.lineJoin = 'round'
				ctx.lineWidth = 4
				ctx.strokeStyle = '#fff'
				ctx.stroke()
				ctx.closePath()   


				ctx.restore()
				ctx.save()
				
				
				//绘制分针
				
				ctx.beginPath()
				
				ctx.rotate(2*Math.PI*min/60+2*Math.PI*sec/3600)
				ctx.moveTo(0,0)
				ctx.lineTo(50,0)
				ctx.lineWidth = 5
				ctx.strokeStyle = '#fff'
				ctx.stroke()
				
				ctx.closePath()

                ctx.restore()
				ctx.save()

				ctx.beginPath()
				
				ctx.rotate(2*Math.PI*min/60+2*Math.PI*sec/3600)
	
                ctx.moveTo(20,-5)
				ctx.lineTo(160,-5)
                ctx.lineTo(160,5)
                ctx.lineTo(20,5)
                ctx.lineJoin = 'round'
				ctx.lineWidth = 4
				ctx.strokeStyle = '#fff'
				ctx.stroke()
				
				ctx.closePath()


                //绘制秒针
                ctx.beginPath()
				
				ctx.rotate(2*Math.PI*sec/60)
				ctx.moveTo(-30,0)
				ctx.lineTo(150,0)
				ctx.lineWidth = 2
				ctx.strokeStyle = "red"
				ctx.stroke()
				
				ctx.closePath()
				
				ctx.restore()
				ctx.save()
				
				// 产生原点
                ctx.beginPath()
                ctx.arc(0,0,10,0,2*Math.PI)
    			ctx.fillStyle = '#fff'
                ctx.fill()
                ctx.closePath()

                ctx.beginPath()
                ctx.arc(0,0,7,0,2*Math.PI)
    			ctx.fillStyle = 'red'
                ctx.fill()
                ctx.closePath()

                 ctx.beginPath()
                ctx.arc(0,0,2,0,2*Math.PI)
    			ctx.fillStyle = '#000'
                ctx.fill()
                ctx.closePath()
				
				ctx.restore()
				ctx.restore()
			
                window.requestAnimationFrame(drawClock)
            }
            window.requestAnimationFrame(drawClock)
        
        
        </script>




    </body>
</html>